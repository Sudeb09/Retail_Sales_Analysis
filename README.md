# Retail Sales Data Analysis

This repository presents a comprehensive SQL-based analysis of retail sales transactions, providing actionable insights into sales performance, customer behavior, and product profitability. The analysis is structured to address key business questions and offers a foundation for data-driven decision-making.

-----

## Database and Table Setup

The project begins by establishing a PostgreSQL database and defining the schema for the `retail_sales` table to house the transactional data.

### Database Creation

```sql
CREATE DATABASE retails_sales_db;
```

### Table Structure

The `retail_sales` table is designed with the following attributes:

| Column Name     | Data Type    | Description                                    |
| :-------------- | :----------- | :--------------------------------------------- |
| `transactions_id` | `INT`        | Unique identifier for each sales transaction (Primary Key) |
| `sale_date`     | `DATE`       | Date of the sales transaction                  |
| `sale_time`     | `TIME`       | Time of the sales transaction                  |
| `customer_id`   | `INT`        | Unique identifier for the purchasing customer  |
| `gender`        | `VARCHAR(10)`| Gender of the customer                         |
| `age`           | `INT`        | Age of the customer at the time of sale        |
| `category`      | `VARCHAR(35)`| Product category of the item sold              |
| `quantity`      | `INT`        | Number of units sold in the transaction        |
| `price_per_unit`| `FLOAT`      | Price per individual unit of the item          |
| `cogs`          | `FLOAT`      | Cost of Goods Sold for the transaction         |
| `total_sale`    | `FLOAT`      | Total revenue generated from the transaction   |

```sql
CREATE TABLE retail_sales
(
    transactions_id INT PRIMARY KEY,
    sale_date DATE,
    sale_time TIME,
    customer_id INT,
    gender VARCHAR(10),
    age INT,
    category VARCHAR(35),
    quantity INT,
    price_per_unit FLOAT,
    cogs FLOAT,
    total_sale FLOAT
);
```

-----

## Data Exploration & Cleaning

This section details the initial steps taken to understand the dataset's characteristics and ensure data integrity.

### Data Overview

```sql
SELECT * FROM retail_sales;
```

### Dataset Statistics

  - **Total Sales Transactions:**
    ```sql
    SELECT COUNT(*) FROM retail_sales;
    ```
  - **Unique Customer Count:**
    ```sql
    SELECT COUNT(DISTINCT customer_id) FROM retail_sales;
    ```
  - **Distinct Product Categories:**
    ```sql
    SELECT DISTINCT category FROM retail_sales;
    ```

### Null Value Management

  - **Identifying Missing Values:**
    ```sql
    SELECT * FROM retail_sales
    WHERE
        sale_date IS NULL OR sale_time IS NULL OR customer_id IS NULL OR
        gender IS NULL OR age IS NULL OR category IS NULL OR
        quantity IS NULL OR price_per_unit IS NULL OR cogs IS NULL;
    ```
  - **Removing Records with Nulls:**
    ```sql
    DELETE FROM retail_sales
    WHERE
        sale_date IS NULL OR sale_time IS NULL OR customer_id IS NULL OR
        gender IS NULL OR age IS NULL OR category IS NULL OR
        quantity IS NULL OR price_per_unit IS NULL OR cogs IS NULL;
    ```

-----

## Key Business Problem Analysis & Visualizations

This section presents SQL queries designed to answer critical business questions, accompanied by visualizations derived from the query results to provide clear, immediate insights.

### 1\. Top Performing Categories by Revenue

**Objective:** To identify the product categories that contribute most significantly to overall revenue.

**SQL Query:**

```sql
SELECT
	category,
	SUM(total_sale) AS total_revenue
FROM retail_sales
GROUP BY category
ORDER BY total_revenue DESC;
```

**Visualization:**
*A bar chart illustrating the total revenue generated by each product category, ordered from highest to lowest.*
![Top Categories Chart](https://github.com/Sudeb09/Retail_Sales_Analysis/blob/main/Retail_Sales_Analysis/Question_1.png?raw=true)


### 2\. Peak Sales Hours and Days

**Objective:** To determine the periods (hours of the day, days of the week) with the highest sales activity, aiding in operational planning and resource allocation.

**SQL Queries:**

  - **Hourly Sales:**
    ```sql
    SELECT
    	EXTRACT(HOUR FROM sale_time) AS hour,
    	SUM(total_sale) AS hourly_sales
    FROM retail_sales
    GROUP BY hour
    ORDER BY hourly_sales DESC;
    ```
  - **Daily Sales (Day of Week):**
    ```sql
    SELECT
    	TO_CHAR(sale_date, 'Day') AS day_of_week,
    	SUM(total_sale) AS daily_sales
    FROM retail_sales
    GROUP BY day_of_week
    ORDER BY daily_sales DESC;
    ```

**Visualizations:**
*A line chart showing total sales by hour of the day, highlighting peak selling periods.*
![Peak Sale By Hours](https://github.com/Sudeb09/Retail_Sales_Analysis/blob/main/Retail_Sales_Analysis/Question_2.png?raw=true)

*A bar chart illustrating total sales across different days of the week, indicating the busiest sales days.*
!![Peak Sale By Days](https://github.com/Sudeb09/Retail_Sales_Analysis/blob/main/Retail_Sales_Analysis/Question_2.1.png?raw=true)

### 3\. Average Age by Category

**Objective:** To understand the typical age demographic of customers purchasing from specific product categories.

**SQL Query:**

```sql
SELECT
	category,
	CEIL(AVG(age)) AS avg_age
FROM retail_sales
GROUP BY category
ORDER BY avg_age DESC;
```

**Visualization:**
*A bar chart displaying the average age of customers for each product category.*
![Average Age by Category](https://github.com/Sudeb09/Retail_Sales_Analysis/blob/main/Retail_Sales_Analysis/Question_3.png?raw=true)

### 4\. Gender Preference in Categories

**Objective:** To analyze sales volume (quantity) across different product categories, segmented by customer gender, to identify gender-specific preferences.

**SQL Query:**

```sql
SELECT gender, category, SUM(quantity) AS total_quantity
FROM retail_sales
GROUP BY gender, category
ORDER BY category, total_quantity DESC;
```

**Visualization:**
*A stacked bar chart showing the total quantity sold per category, broken down by gender, to illustrate purchasing preferences.*
![Gender Preference in Categories](https://github.com/Sudeb09/Retail_Sales_Analysis/blob/main/Retail_Sales_Analysis/Question_4.png?raw=true)

### 5\. Customer Segmentation by Age Group

**Objective:** To segment customers into various age groups and quantify their total spending, enabling targeted marketing strategies.

**SQL Query:**

```sql
SELECT
  CASE
    WHEN age BETWEEN 18 AND 25 THEN '18-25'
    WHEN age BETWEEN 26 AND 35 THEN '26-35'
    WHEN age BETWEEN 36 AND 45 THEN '36-45'
    WHEN age BETWEEN 46 AND 60 THEN '46-60'
    ELSE '60+'
  END AS age_group,
  SUM(total_sale) AS total_spent
FROM retail_sales
GROUP BY age_group
ORDER BY age_group;
```

**Visualization:**
*A pie chart illustrating the distribution of total spending across different customer age groups.*
![Customer Segmentation by Age Group](https://github.com/Sudeb09/Retail_Sales_Analysis/blob/main/Retail_Sales_Analysis/Question_5.png?raw=true)

### 6\. Top Spending Customers

**Objective:** To identify the most valuable customers based on their cumulative spending and transaction frequency.

**SQL Query:**

```sql
SELECT
	customer_id,
	SUM(total_sale) AS total_spent,
	COUNT(transactions_id) AS total_transactions
FROM retail_sales
GROUP BY customer_id
ORDER BY total_spent DESC
LIMIT 10;
```

**Visualization:**
*A bar chart highlighting the top 10 customers by total spent, potentially including their transaction count.*
![Top Spending Customers](https://github.com/Sudeb09/Retail_Sales_Analysis/blob/main/Retail_Sales_Analysis/Question_6.png?raw=true)

### 7\. Category Profitability

**Objective:** To calculate the gross profit for each product category, identifying the most profitable segments.

**SQL Query:**

```sql
SELECT
	category,
	ROUND(SUM(total_sale - cogs)::NUMERIC ,2) AS total_profit
FROM retail_sales
GROUP BY category
ORDER BY total_profit DESC;
```

**Visualization:**
*A bar chart showcasing the total profit generated by each product category.*
![Category Profitability](https://github.com/Sudeb09/Retail_Sales_Analysis/blob/main/Retail_Sales_Analysis/Question_7.png?raw=true)

### 8\. High-Selling, Low-Profit Categories

**Objective:** To identify categories that sell in high quantities but yield lower profit margins, prompting potential strategy adjustments (e.g., pricing review, cost reduction).

**SQL Query:**

```sql
SELECT
	category,
	SUM(quantity) AS total_quantity,
	ROUND(SUM(total_sale - cogs)::NUMERIC ,2) AS total_profit
FROM retail_sales
GROUP BY category
ORDER BY total_quantity DESC;
```


### 9\. Average Basket Size

**Objective:** To understand the typical number of items purchased and the average value per transaction, useful for strategies to increase average transaction value.

**SQL Query:**

```sql
SELECT
	ROUND(AVG(quantity), 2) AS avg_items_per_txn,
	ROUND(AVG(total_sale)::NUMERIC, 2) AS avg_sale_value
FROM retail_sales;
```


### 10\. Age vs Spending Correlation

**Objective:** To explore the relationship between a customer's age and their total spending, potentially revealing age-based market segments.

**SQL Query:**

```sql
SELECT age, SUM(total_sale) AS total_spent
FROM retail_sales
GROUP BY age
ORDER BY age;
```


-----

## Conclusion

This retail sales analysis project demonstrates the power of SQL in extracting meaningful business insights from raw transactional data. By performing a structured exploration, cleaning, and analytical process, we were able to:

  * **Identify top-performing and less profitable product categories**, guiding inventory management and marketing focus.
  * **Pinpoint peak sales hours and days**, enabling optimized staffing, promotions, and store operations.
  * **Understand customer demographics and spending habits** across different age groups and genders, which is crucial for personalized marketing and product development.
  * **Recognize top-spending customers**, allowing for the development of loyalty programs and targeted retention strategies.
  * **Assess overall transaction efficiency** through metrics like average basket size.

The visualizations accompanying each analysis point serve to clearly communicate complex data patterns, making the insights easily digestible for business stakeholders. This analytical framework can be continuously applied and expanded to drive ongoing improvements in retail strategy and operational efficiency. The findings from this analysis provide a solid foundation for data-driven decision-making to enhance sales performance and profitability.
